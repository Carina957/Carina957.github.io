import{_ as s,c as e,o,V as n}from"./chunks/framework.c64951c7.js";const u=JSON.parse('{"title":"An Issue Reproduction for Conflicts with PowerShell","description":"","frontmatter":{"outlint":"deep"},"headers":[],"relativePath":"notes/others/reproduction.md"}'),a={name:"notes/others/reproduction.md"},l=n(`<h1 id="an-issue-reproduction-for-conflicts-with-powershell" tabindex="-1">An Issue Reproduction for <code>Conflicts with PowerShell</code> <a class="header-anchor" href="#an-issue-reproduction-for-conflicts-with-powershell" aria-label="Permalink to &quot;An Issue Reproduction for \`Conflicts with PowerShell\`&quot;">​</a></h1><p>This document provides steps to reproduce an issue that occurs in the following repository:</p><ul><li><a href="https://github.com/antfu/ni.git" target="_blank" rel="noreferrer">anyfu/ni</a></li></ul><h2 id="reproduction-steps" tabindex="-1">Reproduction Steps <a class="header-anchor" href="#reproduction-steps" aria-label="Permalink to &quot;Reproduction Steps&quot;">​</a></h2><ol><li><p>Install <code>ni</code> package globally.</p><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">install</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-g</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">@antfu/ni</span></span></code></pre></div><p><img src="https://user-images.githubusercontent.com/56385216/225857394-e0ce70f6-81ea-45e6-86a7-917ae31950fe.png" alt="image"></p></li><li><p>当我把 <a href="https://github.com/antfu/ni/blob/main/README.md#conflicts-with-powershell" target="_blank" rel="noreferrer">脚本</a> 添加到我的 <code>PowerShell</code> 配置文件中，尝试修复 <code>Conflicts with PowerShell</code>:</p><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">-not</span><span style="color:#BABED8;"> (Test-Path $profile</span><span style="color:#89DDFF;">)</span><span style="color:#BABED8;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#FFCB6B;">New-Item</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-ItemType</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">File</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-Path</span><span style="color:#BABED8;"> (Split-Path $profile) -Force -Name </span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">Split-Path</span><span style="color:#BABED8;"> $profile </span><span style="color:#C3E88D;">-Leaf</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">$profileEntry = </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Remove-Item Alias:ni -Force -ErrorAction Ignore</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#BABED8;">$profileContent = Get-Content $profile</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;">$profileContent -notcontains $profileEntry</span><span style="color:#89DDFF;">)</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">  $profileEntry </span><span style="color:#89DDFF;">|</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">Out-File</span><span style="color:#BABED8;"> $profile </span><span style="color:#C3E88D;">-Append</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-Force</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div></li><li><p>配置在我本地的 <code>C:\\Users\\admin\\Documents\\WindowsPowerShell\\Microsoft.PowerShell_profile.ps1</code> 中时，我的 <code>VSCode</code> 终端却是这样的:</p><p><img src="https://user-images.githubusercontent.com/56385216/225846913-c226fc21-0e6f-4420-814b-112cdb933e4f.png" alt="image"></p></li><li><p>而且之前配置的脚本多了这样的文字:</p><p><img src="https://user-images.githubusercontent.com/56385216/225847116-269e983e-8b1b-4c10-9909-ff5e1b9a80e5.png" alt="image"></p></li><li><p>但是，在当我去掉 <code>$profileEntry</code> 的单引号之后，就恢复了正常。</p><p><img src="https://user-images.githubusercontent.com/56385216/225847367-8bf74c8f-c8f8-4cde-a299-5924b10cacc9.png" alt="image"></p></li></ol>`,5),t=[l];function p(r,c,i,d,h,y){return o(),e("div",null,t)}const f=s(a,[["render",p]]);export{u as __pageData,f as default};
